<template name="aristotle__products__index">
  {{#unless productsLoaded}}<i class="is-loading"></i>{{/unless}}
  <section id="products-index">
    <header class="row padding-medium">
      <div class="col small-2-3 text-left">
        <div class="unit-horz">
          <h1 class="header-icon icon-product-site padding-right-medium border--right unit-block">Products</h1>
          <form class="form-search btn--medium btn is-inline icon--left icon-search-black unit-block unit-fill">
            <input data-search class="text-gray text--xmedium padding-left-xsmall is-block text-left fill-width" type="text" placeholder="Type here to search...">
          </form>
        </div>
      </div>
      <div class="col small-1-3 text-right">
        <a href="{{pathFor 'products_arrange'}}" class="btn-white btn--small icon--left icon-arrange-site icon--small margin-right-small">Arrange Products</a>
        <a href="{{pathFor 'products_create'}}" class="btn-white btn--small icon--left icon-plus-site icon--small">Add Products</a>
      </div>
    </header>

    <table class="table">
      {{> aristotle__products__table_head}}
      <tbody>
      {{#if productsLoaded}}
        {{#each withIndex products}}
          {{> aristotle__products__table_row}}
        {{/each}}
      {{/if}}
      </tbody>
    </table>

    {{#if productsLoaded}}
    <div class="row text-center margin-bottom-large">
      {{#if hasMoreProducts}}
        <a href="#" data-load-more class="btn-white {{#unless Template.subscriptionsReady}}is-processing{{/unless}}">More</a>
      {{/if}}
    </div>
    {{/if}}
  </section>
</template>
